#!/bin/bash

FILE="$1"
HUB_OPTS=""

if [[ -n $FILE ]];
then
    BRANCH="$(git rev-parse --abbrev-ref HEAD)"
    PREFIX="$(git rev-parse --show-prefix)"
    HUB_OPTS="-- blob/${BRANCH}/${PREFIX}${FILE}"
fi

hub browse $HUB_OPTS
